async function a(r,n){var t;if(!r||!n)return console.error("数据或URL不能为空"),{};if(typeof chrome<"u"&&((t=chrome.runtime)!=null&&t.sendMessage))return await s(r,n);try{const e=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return e.ok?await e.json()||{}:(console.error("请求失败，状态码:",e.status),{})}catch(e){return console.error("请求失败",e),{}}}function s(r,n){return new Promise((t,e)=>{chrome.runtime.sendMessage({type:"sendData",info:{url:n,data:r}},o=>{if(chrome.runtime.lastError)return e({});t(o.data||{})})})}export{a as s};
