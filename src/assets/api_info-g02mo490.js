import{B as u,D as f,G as k,z,E as T}from"./zixuan_list.vue_vue_type_style_index_0_lang-Bztu2ySh.js";/* empty css                  */import{d as N,a as h,u as D,c as d,j as V,k as a,v as n,l as e,m as s,p as i,a0 as r,s as c,J as E,a1 as G,t as K,e as g}from"./main-BeSCBoN1.js";import{s as $}from"./SendData-B_I2FNqn.js";import{b as L,c as O}from"./index-Bdt1jrkR.js";import{E as I}from"./index-CSTuB7SG.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DyY66E7G.js";const W={class:"container"},j={class:"container"},F={class:"container"},J={class:"container"},M={class:"container"},Y={key:0,class:"container"},q={class:"container"},H={key:0,class:"container"},Q={class:"container"},X={class:"container"},Z={key:1,class:"container"},ee={class:"container"},oe={class:"center-container"},te=N({__name:"api_info",props:{info:{},status:{default:"defaultStatus"}},setup(P){var b;const o=h(),U=D(),B=[{name:"合约",value:"SWAP"},{name:"现货",value:"SPOT"}],p=P;function S(){try{return o.bot_data.sys_set.user_type==="vip_test"}catch{return!1}}const w={profit_out:"off",action_name:"",api_key:"",secret_key:"",passphrase:"",account_name:"",profit_step:"",profit_present:15,ismaster:"",sub_present:"",actions:["SWAP","SPOT"],flag:""},A=(b=p.info)!=null&&b.actions&&typeof p.info.actions=="string"?p.info.actions.split(","):w.actions;o.api_info={...w,...p.info,actions:A};async function x(_){return await T.confirm(_,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})}async function v(_){const t=localStorage.getItem("bot_ip"),m=localStorage.getItem("bot_key"),l={symbol:U.symbol.ticker,action:"bot_set",key:m,action_info:{...o.api_info,action_status:"account",action:_}},C="http://"+t+"/takeover_order";if(await x("确认增加账号吗"))try{const y=await $(l,C);if(y.status==="sucess")setTimeout(function(){I({title:"执行成功",message:y.msg,type:"success"})},1e3);else{const ae=await x(y.msg)}}catch(y){I({title:"提示",message:"请求出现错误，请重试",type:"error"}),console.error(y)}}return(_,t)=>{const m=z;return d(),V(E,null,[a("div",null,[a("div",W,[a("p",{style:n({color:e(o).color})},"API 名称:",4),s(e(u),{modelValue:e(o).api_info.account_name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).api_info.account_name=l),style:{width:"200px"}},null,8,["modelValue"])])]),a("div",null,[a("div",j,[a("p",{style:n({color:e(o).color})},"API KEY:",4),s(e(u),{modelValue:e(o).api_info.api_key,"onUpdate:modelValue":t[1]||(t[1]=l=>e(o).api_info.api_key=l),style:{width:"200px"}},null,8,["modelValue"])])]),a("div",null,[a("div",F,[a("p",{style:n({color:e(o).color})},"API 秘钥:",4),s(e(u),{modelValue:e(o).api_info.secret_key,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).api_info.secret_key=l),style:{width:"200px"}},null,8,["modelValue"])])]),a("div",null,[a("div",J,[a("p",{style:n({color:e(o).color})},"API 密码:",4),s(e(u),{modelValue:e(o).api_info.passphrase,"onUpdate:modelValue":t[3]||(t[3]=l=>e(o).api_info.passphrase=l),style:{width:"200px"},type:"password"},null,8,["modelValue"])])]),a("div",M,[a("p",{style:n({color:e(o).color})},"账号类型:",4),s(e(k),{size:"default",modelValue:e(o).api_info.ismaster,"onUpdate:modelValue":t[4]||(t[4]=l=>e(o).api_info.ismaster=l)},{default:i(()=>[s(e(f),{value:"yes"},{default:i(()=>[r("主账号")]),_:1}),s(e(f),{value:"sub"},{default:i(()=>[r("副账号")]),_:1}),s(e(f),{value:""},{default:i(()=>[r("子账号")]),_:1})]),_:1},8,["modelValue"])]),a("div",null,[e(o).api_info.ismaster==="sub"?(d(),V("div",Y,[a("p",{style:n({color:e(o).color})},"副号比例:",4),s(e(u),{modelValue:e(o).api_info.sub_present,"onUpdate:modelValue":t[5]||(t[5]=l=>e(o).api_info.sub_present=l),style:{width:"200px"}},null,8,["modelValue"])])):c("",!0)]),a("div",q,[a("p",{style:n({color:e(o).color})},"利润模式:",4),s(e(k),{size:"default",modelValue:e(o).api_info.profit_out,"onUpdate:modelValue":t[6]||(t[6]=l=>e(o).api_info.profit_out=l)},{default:i(()=>[s(e(f),{value:"on"},{default:i(()=>[r("启用")]),_:1}),s(e(f),{value:"off"},{default:i(()=>[r("禁用")]),_:1})]),_:1},8,["modelValue"])]),e(o).api_info.profit_out==="on"?(d(),V("div",H,[a("p",{style:n({color:e(o).color})},"离场利润:",4),s(e(u),{modelValue:e(o).api_info.profit_present,"onUpdate:modelValue":t[7]||(t[7]=l=>e(o).api_info.profit_present=l),step:.1,min:.1,style:{width:"180px"}},null,8,["modelValue"]),a("p",{style:n({color:e(o).color})},"%",4)])):c("",!0),a("div",null,[a("div",Q,[a("p",{style:n({color:e(o).color})},"止损区间:",4),s(e(u),{modelValue:e(o).api_info.loss_spread,"onUpdate:modelValue":t[8]||(t[8]=l=>e(o).api_info.loss_spread=l),style:{width:"200px"}},null,8,["modelValue"]),a("p",{style:n({color:e(o).color})},"%",4)])]),a("div",null,[a("div",X,[a("p",{style:n({color:e(o).color})},"止盈区间:",4),s(e(u),{modelValue:e(o).api_info.win_spread,"onUpdate:modelValue":t[9]||(t[9]=l=>e(o).api_info.win_spread=l),style:{width:"200px"}},null,8,["modelValue"]),a("p",{style:n({color:e(o).color})},"%",4)])]),S()?(d(),V("div",Z,[a("p",{style:n({color:e(o).color})},"账号类别:",4),s(e(k),{size:"default",modelValue:e(o).api_info.flag,"onUpdate:modelValue":t[10]||(t[10]=l=>e(o).api_info.flag=l)},{default:i(()=>[s(e(f),{value:"1"},{default:i(()=>[r("模拟盘")]),_:1}),s(e(f),{value:""},{default:i(()=>[r("实盘")]),_:1})]),_:1},8,["modelValue"])])):c("",!0),a("div",ee,[a("p",{style:n({color:e(o).color})},"交易类别:",4),s(e(O),{modelValue:e(o).api_info.actions,"onUpdate:modelValue":t[11]||(t[11]=l=>e(o).api_info.actions=l),size:"large"},{default:i(()=>[(d(),V(E,null,G(B,l=>s(e(L),{key:l.name,value:l.value},{default:i(()=>[r(K(l.name),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),a("div",oe,[p.info?c("",!0):(d(),g(m,{key:0,type:"primary",onClick:t[12]||(t[12]=l=>v("add"))},{default:i(()=>[r("添加API")]),_:1})),p.info?(d(),g(m,{key:1,type:"danger",onClick:t[13]||(t[13]=l=>v("del"))},{default:i(()=>[r("删除API")]),_:1})):c("",!0),p.info?(d(),g(m,{key:2,type:"primary",onClick:t[14]||(t[14]=l=>v("edit"))},{default:i(()=>[r("修改API")]),_:1})):c("",!0)])],64)}}}),ce=R(te,[["__scopeId","data-v-f9cd4034"]]);export{ce as default};
