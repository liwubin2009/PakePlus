import{B as x,D as u,G as _,z as G,E as K}from"./zixuan_list.vue_vue_type_style_index_0_lang-Bztu2ySh.js";/* empty css                  */import{E as R}from"./tradingview-Dw0rKJFn.js";/* empty css                 *//* empty css                        *//* empty css                  *//* empty css                  */import{a as W,E as $}from"./el-option-DgYD06Jd.js";import{d as F,a as H,u as J,I as L,c as p,j as m,k as s,v as i,l as e,m as a,p as n,a0 as r,J as E,a1 as C,e as T,s as f,t as g}from"./main-BeSCBoN1.js";import{p as M,a as q}from"./post_browser-CYSuer52.js";import{E as N}from"./index-CSTuB7SG.js";import{E as Q}from"./index-DGrJy6ZA.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DyY66E7G.js";import"./index-Bdt1jrkR.js";import"./index-B8aHpL5e.js";const Y={class:"container"},Z={class:"container"},ee={class:"container"},oe={class:"container"},le={key:0,class:"container"},te={key:1,class:"container"},ae={key:2,class:"container"},se={key:3,class:"container"},ne={class:"container"},de={class:"container"},ie={key:4},re={class:"container"},ue={key:5,class:"container"},ce={class:"container"},pe={key:6,class:"container"},me={key:7,class:"container"},_e={key:8,class:"container"},fe={class:"container"},ye={class:"container"},Ve={class:"container"},ve={class:"container"},we={class:"container"},xe={class:"container"},ge={class:"center-container"},be=F({__name:"trade_signal",props:{info:{},status:{default:"defaultStatus"}},setup(A){const d=H(),P=J(),b=d.sz_type_list;b.some(c=>c.action==="策略指定")||b.push({action:"策略指定",value:"strategy"});const k=A,o=L({...k.info});function U(){return o.loss_type==="price"?["价格盈利","价格亏损","尾仓位置"]:o.loss_type==="profit"?["本金盈利","本金亏损","尾仓位置"]:["止盈点位","止损点位","尾仓位置"]}function h(c){if(c==="loss_price")return o.sz_type.includes("risk")?"不带%的数字,必填":"不带%的数字,可留空";if(c==="win_price")return"不带%的数字,可留空";if(c==="endprice")return o.action==="mix"||o.action==="reduce_mode"?"不带%的数字,必填":"不带%的数字,可留空"}function j(){return P.symbol.minSz+"张"}const D=c=>{if(!c||typeof c!="object")throw new Error("输入必须是一个对象");const t={};for(const[v,y]of Object.entries(c))y!=null&&y!==""&&(t[v]=y);return t};async function S(c){return await K.confirm(c,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})}async function B(c){const t=localStorage.getItem("bot_ip"),v=localStorage.getItem("bot_key"),y=localStorage.getItem("mode"),V={symbol:"ETH-USDT-SWAP",action:"signal_trade",key:v,action_info:{...D(o),trade_type:k.info.trade_type,action_status:c,item:k.info}},w="http://"+t+"/takeover_order";if(await S("确认增加账号吗"))try{let l;if(y==="no"?l=await new Promise(I=>{M(V,w,function(O){I(O.data)})}):l=await q(V,w),l.status==="sucess")setTimeout(function(){N({title:"执行成功",message:l.msg,type:"success"}),d.resetApiInfo()},1e3);else{const I=await S(l.msg)}}catch(l){N({title:"提示",message:"请求出现错误，请重试",type:"error"}),console.error(l)}}return(c,t)=>{const v=W,y=$,V=Q,w=R,z=G;return p(),m(E,null,[s("div",Y,[s("p",{style:i({color:e(d).color})},"执行账户:",4),a(e(x),{modelValue:o.account_name,"onUpdate:modelValue":t[0]||(t[0]=l=>o.account_name=l),placeholder:"选择要执行的账户",style:{width:"200px"},disabled:""},null,8,["modelValue"])]),s("div",Z,[s("p",{style:i({color:e(d).color})},"合约种类:",4),a(e(x),{modelValue:o.symbol,"onUpdate:modelValue":t[1]||(t[1]=l=>o.symbol=l),placeholder:"请选择币种",style:{width:"200px"},disabled:""},null,8,["modelValue"])]),s("div",ee,[s("p",{style:i({color:e(d).color})},"交易类型:",4),a(e(_),{size:"default",modelValue:o.trade_type,"onUpdate:modelValue":t[2]||(t[2]=l=>o.trade_type=l)},{default:n(()=>[a(e(u),{value:"SWAP",disabled:""},{default:n(()=>[r("合约计划")]),_:1}),a(e(u),{value:"SPOT",disabled:""},{default:n(()=>[r("现货计划")]),_:1})]),_:1},8,["modelValue"])]),s("div",oe,[s("p",{style:i({color:e(d).color})},"开仓模式:",4),a(y,{modelValue:o.action,"onUpdate:modelValue":t[3]||(t[3]=l=>o.action=l),placeholder:"选择一个开仓模式",teleported:!1,style:{width:"200px"}},{default:n(()=>[(p(!0),m(E,null,C(e(d).openactionlist,l=>(p(),T(v,{key:l.action,label:l.action,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),o.action==="mix"||o.action==="reduce_mode"?(p(),m("div",le,[s("p",{style:i({color:e(d).color})},"入场次数:",4),a(e(x),{modelValue:o.order_num,"onUpdate:modelValue":t[4]||(t[4]=l=>o.order_num=l),style:{width:"180px"}},null,8,["modelValue"]),s("p",{style:i({color:e(d).color,width:"20px",textAlign:"center"})}," 次 ",4)])):f("",!0),o.action==="reduce_mode"||o.action==="mix"?(p(),m("div",te,[s("p",{style:i({color:e(d).color})},"头仓比例:",4),a(e(x),{modelValue:o.first_ratio,"onUpdate:modelValue":t[5]||(t[5]=l=>o.first_ratio=l),style:{width:"180px"}},null,8,["modelValue"]),s("p",{style:i({color:e(d).color,width:"20px",textAlign:"center"})},"%",4)])):f("",!0),o.action==="mix"||o.action==="reduce_mode"?(p(),m("div",ae,[s("p",{style:i({color:e(d).color})},"加仓模式:",4),a(e(_),{size:"default",modelValue:o.mix_type,"onUpdate:modelValue":t[6]||(t[6]=l=>o.mix_type=l)},{default:n(()=>[a(e(u),{value:"average"},{default:n(()=>[r("一倍")]),_:1}),a(e(u),{value:"double"},{default:n(()=>[r("两倍")]),_:1}),a(e(u),{value:"three"},{default:n(()=>[r("三倍")]),_:1})]),_:1},8,["modelValue"])])):f("",!0),o.action==="mix"?(p(),m("div",se,[s("p",{style:i({color:e(d).color})},"止盈模式:",4),a(e(_),{size:"default",modelValue:o.win_type,"onUpdate:modelValue":t[7]||(t[7]=l=>o.win_type=l)},{default:n(()=>[a(e(u),{value:"nomal"},{default:n(()=>[r("固定止盈")]),_:1}),a(e(u),{value:"move"},{default:n(()=>[r("浮动止盈")]),_:1})]),_:1},8,["modelValue"])])):f("",!0),s("div",ne,[s("p",{style:i({color:e(d).color})},"止盈模式:",4),a(e(_),{size:"default",modelValue:o.loss_type,"onUpdate:modelValue":t[8]||(t[8]=l=>o.loss_type=l)},{default:n(()=>[a(e(u),{value:"price"},{default:n(()=>[r("价格")]),_:1}),a(e(u),{value:"profit"},{default:n(()=>[r("利润")]),_:1}),a(e(u),{value:"no"},{default:n(()=>[r("裸奔")]),_:1})]),_:1},8,["modelValue"])]),s("div",de,[s("p",{style:i({color:e(d).color})},"仓位模式:",4),a(y,{modelValue:o.sz_type,"onUpdate:modelValue":t[9]||(t[9]=l=>o.sz_type=l),placeholder:"选择一种仓位模式",teleported:!1,style:{width:"200px"}},{default:n(()=>[(p(!0),m(E,null,C(e(b),l=>(p(),T(v,{key:l.action,label:l.action,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),o.sz_type==="coin"?(p(),m("div",ie,[s("div",re,[s("p",{style:i({color:e(d).color})},"张数刻度:",4),a(e(x),{placeholder:j(),style:{width:"200px"}},null,8,["placeholder"])])])):f("",!0),o.sz_type!=="strategy"?(p(),m("div",ue,[s("p",{style:i({color:e(d).color})},g(e(d).open_key_name())+":",5),a(V,{modelValue:o.risk,"onUpdate:modelValue":t[10]||(t[10]=l=>o.risk=l),style:{width:"200px"}},null,8,["modelValue"])])):f("",!0),s("div",ce,[s("p",{style:i({color:e(d).color})},"订单杠杆:",4),a(V,{modelValue:o.lever,"onUpdate:modelValue":t[11]||(t[11]=l=>o.lever=l),style:{width:"200px"}},null,8,["modelValue"])]),o.action==="reduce_mode"?(p(),m("div",pe,[s("p",{style:i({color:e(d).color})},"开始循环:",4),a(w,{modelValue:o.limit_price,"onUpdate:modelValue":t[12]||(t[12]=l=>o.limit_price=l),placement:"left",style:{width:"200px"},step:.01,min:.01,max:.99},null,8,["modelValue"])])):f("",!0),o.action==="mix"||o.action==="reduce_mode"?(p(),m("div",me,[s("p",{style:i({color:e(d).color})},g(U()[2])+":",5),a(w,{modelValue:o.end_price,"onUpdate:modelValue":t[13]||(t[13]=l=>o.end_price=l),placement:"left",style:{width:"200px"},step:.01,min:.01,max:.99},null,8,["modelValue"])])):f("",!0),o.sz_type.includes("risk")?(p(),m("div",_e,[s("p",{style:i({color:e(d).color})},"止损设定:",4),a(e(_),{size:"default",modelValue:o.ignore_loss,"onUpdate:modelValue":t[14]||(t[14]=l=>o.ignore_loss=l)},{default:n(()=>[a(e(u),{value:"normal"},{default:n(()=>[r("正常设定")]),_:1}),a(e(u),{value:"yes"},{default:n(()=>[r("仅计算仓位")]),_:1})]),_:1},8,["modelValue"])])):f("",!0),s("div",fe,[s("p",{style:i({color:e(d).color})},g(U()[1])+":",5),a(V,{modelValue:o.loss_price,"onUpdate:modelValue":t[15]||(t[15]=l=>o.loss_price=l),placeholder:h("loss_price"),style:{width:"200px"}},null,8,["modelValue","placeholder"])]),s("div",ye,[s("p",{style:i({color:e(d).color})},g(U()[0])+":",5),a(V,{modelValue:o.win_price,"onUpdate:modelValue":t[16]||(t[16]=l=>o.win_price=l),placeholder:h("win_price"),style:{width:"200px"}},null,8,["modelValue","placeholder"])]),s("div",Ve,[s("p",{style:i({color:e(d).color})},"动作限制:",4),a(e(_),{size:"default",modelValue:o.allow_action,"onUpdate:modelValue":t[17]||(t[17]=l=>o.allow_action=l)},{default:n(()=>[a(e(u),{value:"both"},{default:n(()=>[r("开平仓")]),_:1}),a(e(u),{value:"open"},{default:n(()=>[r("仅开仓")]),_:1}),a(e(u),{value:"close"},{default:n(()=>[r("仅空仓")]),_:1})]),_:1},8,["modelValue"])]),s("div",ve,[s("p",{style:i({color:e(d).color})},"方向限制:",4),a(e(_),{size:"default",modelValue:o.allow_side,"onUpdate:modelValue":t[18]||(t[18]=l=>o.allow_side=l)},{default:n(()=>[a(e(u),{value:"both"},{default:n(()=>[r("多空开")]),_:1}),a(e(u),{value:"long"},{default:n(()=>[r("仅开多")]),_:1}),a(e(u),{value:"short"},{default:n(()=>[r("仅开空")]),_:1})]),_:1},8,["modelValue"])]),s("div",we,[s("p",{style:i({color:e(d).color})},"信号加仓:",4),a(e(_),{size:"default",modelValue:o.allow_add,"onUpdate:modelValue":t[19]||(t[19]=l=>o.allow_add=l)},{default:n(()=>[a(e(u),{value:"no"},{default:n(()=>[r("禁止加仓")]),_:1}),a(e(u),{value:"yes"},{default:n(()=>[r("允许加仓")]),_:1})]),_:1},8,["modelValue"])]),s("div",xe,[s("p",{style:i({color:e(d).color})},"策略状态:",4),a(e(_),{size:"default",modelValue:o.status,"onUpdate:modelValue":t[20]||(t[20]=l=>o.status=l)},{default:n(()=>[a(e(u),{value:"on"},{default:n(()=>[r("启用策略")]),_:1}),a(e(u),{value:"off"},{default:n(()=>[r("禁用策略")]),_:1})]),_:1},8,["modelValue"])]),s("div",ge,[a(z,{type:"danger",onClick:t[21]||(t[21]=l=>B("del"))},{default:n(()=>[r("删除策略")]),_:1}),a(z,{type:"primary",onClick:t[22]||(t[22]=l=>B("edit"))},{default:n(()=>[r("修改策略")]),_:1})])],64)}}}),Ke=X(be,[["__scopeId","data-v-e0ebbade"]]);export{Ke as default};
